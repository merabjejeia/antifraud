<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Инструменты для антифрода</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>▽</text></svg>" type="image/svg+xml">
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAKxJREFUOE/Vj0EOwjAMhZ+z3Q/E5yKk/A4Ijk5wFk1eG+g+gJzBSRq9kUaYw1gB9AELM5u9uK/H7d5J3Y1wXj1G3uG/z8wJjT1G3sL4k7oG3N8J7z+h97h2jA3hJ4k7J2j/g7J3rWjO5J2z8K+c+T2nE3hJ3E/Z...">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
        body {
            font-family: 'Roboto', sans-serif;
        }
        .container {
            max-width: 800px;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200 min-h-screen p-4">

    <header class="text-center mb-8">
        <h1 class="text-3xl font-bold">Инструменты для антифрода</h1>
        <p class="text-gray-600 dark:text-gray-400 mt-2">Полезные инструменты для проверки данных.</p>
    </header>

    <main class="container mx-auto space-y-8">
        
        <section class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
            <h2 class="text-2xl font-semibold mb-4">Проверка криптоадреса</h2>
            <p class="text-gray-600 dark:text-gray-400 mb-4">
                Введите один или несколько криптоадресов, разделенных пробелом, запятой или новой строкой.
            </p>
            <div class="mb-4">
                <textarea id="cryptoInput" rows="4" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-200" placeholder="Например: 0x... 1A..."></textarea>
            </div>
            <div class="flex flex-col md:flex-row md:justify-between md:items-center space-y-2 md:space-y-0">
                <button id="cryptoCheckBtn" class="w-full md:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-md transition-colors duration-200">
                    Проверить
                </button>
                <button id="cryptoOpenAllBtn" class="w-full md:w-auto px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-bold rounded-md transition-colors duration-200 hidden">
                    Открыть все
                </button>
            </div>
            
            <div id="cryptoLinksOutput" class="mt-6 space-y-4">
                </div>
        </section>

    </main>

    <footer class="text-center mt-8 text-gray-500 dark:text-gray-400">
        <p>&copy; 2024</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const cryptoInput = document.getElementById('cryptoInput');
            const cryptoCheckBtn = document.getElementById('cryptoCheckBtn');
            const cryptoLinksOutput = document.getElementById('cryptoLinksOutput');
            const cryptoOpenAllBtn = document.getElementById('cryptoOpenAllBtn');
            
            // Define crypto explorers and their URL patterns
            const cryptoExplorers = {
                'bitcoin': { name: 'Bitcoin Explorer', url: 'https://www.blockchain.com/btc/address/' },
                'ethereum': { name: 'Etherscan', url: 'https://etherscan.io/address/' },
                'bnb': { name: 'BscScan', url: 'https://bscscan.com/address/' },
                'tron': { name: 'TRONSCAN', url: 'https://tronscan.org/#/address/' },
                'solana': { name: 'Solana Explorer', url: 'https://explorer.solana.com/address/' },
                'litecoin': { name: 'Litecoin Explorer', url: 'https://blockchair.com/litecoin/address/' },
                'dogecoin': { name: 'Dogecoin Explorer', url: 'https://dogechain.info/address/' },
                'dash': { name: 'Dash Explorer', url: 'https://blockchair.com/dash/address/' },
                'zcash': { name: 'Zcash Explorer', url: 'https://blockchair.com/zcash/address/' },
                'ripple': { name: 'XRPScan', url: 'https://xrpscan.com/account/' },
            };

            // Heuristic function to determine network based on address format
            const getWalletNetwork = (address) => {
                if (/^(bc1|1|3)[a-zA-HJ-NP-Z0-9]{25,39}$/.test(address)) {
                    return ['bitcoin'];
                }
                if (/^0x[a-fA-F0-9]{40}$/.test(address)) {
                    return ['ethereum', 'bnb'];
                }
                if (/^T[a-zA-Z0-9]{33}$/.test(address)) {
                    return ['tron'];
                }
                if (/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(address)) {
                    return ['solana'];
                }
                if (/^L[a-zA-Z0-9]{33}$/.test(address)) {
                    return ['litecoin'];
                }
                if (/^D[a-zA-Z0-9]{33}$/.test(address)) {
                    return ['dogecoin'];
                }
                if (/^X[a-zA-Z0-9]{33}$/.test(address)) {
                    return ['dash'];
                }
                if (/^t[a-zA-Z0-9]{34}$/.test(address)) {
                    return ['zcash'];
                }
                if (/^r[a-zA-Z0-9]{25,34}$/.test(address)) {
                    return ['ripple'];
                }
                return null;
            };

            const createLinkElement = (text, url) => {
                const a = document.createElement('a');
                a.href = url;
                a.textContent = text;
                a.className = "text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200 transition-colors duration-200 break-all";
                a.target = "_blank"; // Open in new tab
                return a;
            };

            const createCopyButton = (link) => {
                const btn = document.createElement('button');
                btn.className = "ml-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors duration-200";
                btn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7v4a1 1 0 01-1 1H4a1 1 0 01-1-1V7a1 1 0 011-1h3a1 1 0 011 1zM16 7v4a1 1 0 01-1 1h-3a1 1 0 01-1-1V7a1 1 0 011-1h3a1 1 0 011 1zM21 7v4a1 1 0 01-1 1h-3a1 1 0 01-1-1V7a1 1 0 011-1h3a1 1 0 011 1z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7v4m0-4h3m-3 4h3M16 7v4m0-4h3m-3 4h3M21 7v4m0-4h3m-3 4h3" />
                              </svg>`;
                btn.title = "Копировать";
                btn.onclick = () => {
                    const textToCopy = link.textContent.split(': ')[1];
                    navigator.clipboard.writeText(textToCopy).then(() => {
                        btn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                    </svg>`;
                        setTimeout(() => {
                            btn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7v4a1 1 0 01-1 1H4a1 1 0 01-1-1V7a1 1 0 011-1h3a1 1 0 011 1zM16 7v4a1 1 0 01-1 1h-3a1 1 0 01-1-1V7a1 1 0 011-1h3a1 1 0 011 1zM21 7v4a1 1 0 01-1 1h-3a1 1 0 01-1-1V7a1 1 0 011-1h3a1 1 0 011 1z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7v4m0-4h3m-3 4h3M16 7v4m0-4h3m-3 4h3M21 7v4m0-4h3m-3 4h3" />
                                        </svg>`;
                        }, 2000);
                    });
                };
                return btn;
            };

            const createLinkContainer = (link, copyBtn) => {
                const div = document.createElement('div');
                div.className = "flex items-center";
                div.appendChild(link);
                div.appendChild(copyBtn);
                return div;
            };

            cryptoCheckBtn.addEventListener('click', () => {
                cryptoLinksOutput.innerHTML = '';
                cryptoOpenAllBtn.classList.add('hidden');
                
                const addresses = cryptoInput.value
                                        .split(/[\s,]+/)
                                        .map(addr => addr.trim())
                                        .filter(addr => addr.length > 0);

                addresses.forEach(address => {
                    const networks = getWalletNetwork(address);
                    
                    if (networks) {
                        networks.forEach(network => {
                            const explorer = cryptoExplorers[network];
                            const fullUrl = `${explorer.url}${encodeURIComponent(address)}`;
                            const link = createLinkElement(`${explorer.name}: ${address}`, fullUrl);
                            const copyBtn = createCopyButton(link);
                            cryptoLinksOutput.appendChild(createLinkContainer(link, copyBtn));
                        });
                    } else {
                        const unknownLink = document.createElement('p');
                        unknownLink.className = "text-red-500 dark:text-red-400 text-sm italic mt-2";
                        unknownLink.textContent = `Адрес "${address}" не распознан.`;
                        cryptoLinksOutput.appendChild(unknownLink);
                    }
                });

                if (cryptoLinksOutput.querySelectorAll('a').length > 0) {
                    cryptoOpenAllBtn.classList.remove('hidden');
                }
            });

            cryptoOpenAllBtn.addEventListener('click', () => {
                const links = cryptoLinksOutput.querySelectorAll('a');
                links.forEach(link => {
                    window.open(link.href, '_blank');
                });
            });
        });
    </script>
</body>
</html>
